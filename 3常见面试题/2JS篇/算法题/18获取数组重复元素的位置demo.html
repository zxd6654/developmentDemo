<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>

<body>
    在JavaScript中，获取数组重复元素的位置需要遍历数组，并检查每个元素是否在其他位置出现过。以下是一个简单的函数，它返回数组中每个重复元素的所有索引位置：
    <script>
        function findDuplicatesIndices(arr) {
            let indices = {};

            for (let i = 0; i < arr.length; i++) {
                // 将当前索引添加到该元素的索引列表中  
                if (!indices[arr[i]]) {
                    indices[arr[i]] = [];
                }
                indices[arr[i]].push(i);
            }

            // 过滤出只包含重复元素的索引对象
            const result = {};
            for (const element in indices) {
                if (indices[element].length > 1) {
                    result[element] = indices[element];
                }
            }

            return result;
        }

        // 示例用法  
        const arr = [1, 2, 3, 2, 4, 5, 3, 6];
        const duplicatesIndices = findDuplicatesIndices(arr);
        console.log(duplicatesIndices);

        // {  
        //   '2': [1, 3],
        //   '3': [2, 6]
        // }

    </script>
</body>

</html>