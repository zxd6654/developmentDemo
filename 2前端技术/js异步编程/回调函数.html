<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
js是单线程的，所以异步编程很重要。
所谓的单线程，就是指一次只能完成一件任务。如果多个任务，就必须排队，前面一个任务完成，自执行后面一个任务，以此类推
这种模式的好处就是实现起来比较简单，执行环境相对单纯；坏处是只要一个任务耗时很长，后面任务都必须排队等着，会拖延整个程序的执行，
常见的浏览器无响应，往往就是因为某一段Javascript代码长时间运行（比如死循环），导致整个页面卡在这个地方，其他任务无法执行。

为了解决这个问题， js语言将任务的执行模式分成两种：同步和异步。
同步模式就是上一段的模式，后一个任务等待前一个任务结束，然后再执行，程序的执行书序与任务的排列书序是一致的、同步的：
‘异步模式’则完全不同，每个人物有一个或多个退掉函数，前一个任务结束后，不是执行后一个任务，而是执行回调函数，后一个任务则是不等前一个任务执行结束就执行，
所以程序的执行顺序与任务的排列顺序是不一致的，异步的。

异步模式非常重要，在浏览器端，好事很长的操作都因该异步执行，避免浏览器失去响应，最哦好的例子就是ajax操作，
在服务器端，"异步模式"甚至是唯一的模式，因为执行环境是单线程的，如果允许同步执行所有http请求，服务器性能会急剧下降，很快就会失去响应。


ES 6以前：

* 回调函数
* 事件监听(事件发布/订阅)
* Promise对象

ES 6：

* Generator函数(协程coroutine)

ES 7:

* async和await
<script>
//1 回调函数
//回调函数在Javascript中非常常见，一般是需要在一个耗时操作之后执行某个操作时可以使用回调函数。


//如果f1是一个很耗时的任务，可以考虑改写f1，把f2写成f1的回调函数。
//采用这种方式，我们把同步操作变成了异步操作，f1不会堵塞程序运行，相当于先执行程序的主要逻辑，将耗时的操作推迟执行。

//优缺点：回调函数的优点是简单、容易理解和部署，缺点是不利于代码的阅读和维护，各个部分之间高度耦合（Coupling），流程会很混乱，而且每个任务只能指定一个回调函数。
function f1(callback){

    setTimeout(function () {

        // f1的任务代码

        callback();

    }, 1000);

}
f1(f2);

</script>
<script>
    //回调函数还有一个问题就是我们在回调函数之外无法捕获到回调函数中的异常

</script>
</body>
</html>